"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[421],{2654:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var a=t(885),r=t(2791),o="Phonebook_form__J23fu",i="Phonebook_label__Qzztg",s="Phonebook_input__8yiEQ",c="Phonebook_title__ipARL",l=t(9434),d=t(5036),u=function(e){return e.contacts.filter},m=function(e){return e.contacts.items},h=function(e){return m(e).filter((function(n){return n.name.toLowerCase().includes(u(e).toLowerCase())}))},_=function(e){return e.contacts.error},f=function(e){return e.contacts.loading},p=t(4443),b=t(6140),x=t(6373),v=t(6151),g=t(1686),j=t(184);var C=function(){var e=(0,r.useState)(""),n=(0,a.Z)(e,2),t=n[0],u=n[1],h=(0,r.useState)(""),_=(0,a.Z)(h,2),p=_[0],C=_[1],w=(0,l.v9)(m),N=(0,l.v9)(f),y=(0,l.I0)(),A=function(e){switch(e.currentTarget.name){case"name":u(e.currentTarget.value);break;case"number":C(e.currentTarget.value);break;default:console.log("wrong name")}},Z=function(e,n){w.map((function(e){return e.name.toLowerCase()})).includes(e.toLowerCase())?b.ZP.error("".concat(e," is already in contacts"),{duration:3e3,position:"top-center"}):(y(d.addContact({name:e,number:n})),u(""),C(""))};return(0,j.jsxs)("form",{className:o,onSubmit:function(e){e.preventDefault(),Z(t,p)},children:[(0,j.jsx)("h2",{className:c,children:"Add contact"}),(0,j.jsx)("label",{className:i,htmlFor:"nameAdd",children:"Name"}),(0,j.jsx)("input",{type:"text",onChange:A,name:"name",value:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,className:s,id:"nameAdd"}),(0,j.jsx)("label",{className:i,htmlFor:"numberAdd",children:"Number"}),(0,j.jsx)("input",{type:"tel",onChange:A,name:"number",value:p,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,className:s,id:"numberAdd"}),(0,j.jsx)(v.Z,{type:"submit",variant:"contained",endIcon:N?(0,j.jsx)(x.p2,{height:"15",width:"15",color:"white",ariaLabel:"loading"}):(0,j.jsx)(g.Z,{}),size:"large",children:"Add contact"})]})},w="Filter_label__vEd1E",N="Filter_input__N7T3z",y="Filter_title__pSkfx",A=function(){var e=(0,l.v9)(u),n=(0,l.I0)();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h2",{className:y,children:"Contacts List"}),(0,j.jsxs)("label",{className:w,children:["Find Contacts by name",(0,j.jsx)("input",{type:"text",onChange:function(e){return n(p.setFilter(e.currentTarget.value))},name:"filter",value:e,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,className:N})]})]})},Z={item:"ContactListItem_item__UAAix",name:"ContactListItem_name__cIBvF",button:"ContactListItem_button__SG6H2",contactContainer:"ContactListItem_contactContainer__0rcmw"},k=t(7247),L=t(9877),z=t(1286),F=function(e){var n=e.id,t=e.name,a=e.number,r=e.loader,o=e.handleShowModal,i=(0,l.I0)();return(0,j.jsxs)("li",{className:Z.item,children:[(0,j.jsx)(L.Z,{size:"small",color:"primary","aria-label":"edit",className:Z.fab,onClick:o,id:n,children:(0,j.jsx)(z.Z,{})}),(0,j.jsxs)("div",{className:Z.contactContainer,children:[(0,j.jsxs)("span",{className:Z.name,children:[t,":"]}),(0,j.jsx)("span",{className:Z.number,children:a})]}),(0,j.jsx)(v.Z,{className:Z.button,id:n,name:t,variant:"outlined",startIcon:r?(0,j.jsx)(x.p2,{height:"20",width:"20",color:"blue",ariaLabel:"loading"}):(0,j.jsx)(k.Z,{}),onClick:function(e){i(d.deleteContact({id:e.currentTarget.id,name:e.currentTarget.name}))},children:"Delete"})]})},I="ContactList_list__csErn",M="Modal_Overlay__yoxbg",P="Modal_Modal__I1UYJ",E=t(4164),S="PatchForm_form__V2ul1",T="PatchForm_label__MwJQE",J="PatchForm_input__JDiGI",q="PatchForm_title__yIMj6",D="PatchForm_buttonContainer__daJTf";var V=function(e){var n=e.onClick,t=e.showModal,o=(0,l.v9)(m),i=(0,r.useState)(o.find((function(e){return e.id===t})).name),s=(0,a.Z)(i,2),c=s[0],u=s[1],h=(0,r.useState)(o.find((function(e){return e.id===t})).number),_=(0,a.Z)(h,2),p=_[0],g=_[1],C=(0,l.v9)(f),w=(0,l.I0)(),N=function(e){switch(e.currentTarget.name){case"name":u(e.currentTarget.value);break;case"number":g(e.currentTarget.value);break;default:console.log("wrong name")}},y=function(e,n){o.map((function(e){return e.name.toLowerCase()})).includes(e.toLowerCase())?b.ZP.error("".concat(e," is already in contacts"),{duration:3e3,position:"top-center"}):(w(d.addContact({name:e,number:n})),u(""),g(""))};return(0,j.jsxs)("form",{className:S,onSubmit:function(e){e.preventDefault(),y(c,p)},children:[(0,j.jsx)("h2",{className:q,children:"Edit contact"}),(0,j.jsx)("label",{className:T,htmlFor:"nameAdd",children:"Name"}),(0,j.jsx)("input",{type:"text",onChange:N,name:"name",value:c,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,className:J,id:"nameAdd"}),(0,j.jsx)("label",{className:T,htmlFor:"numberAdd",children:"Number"}),(0,j.jsx)("input",{type:"tel",onChange:N,name:"number",value:p,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,className:J,id:"numberAdd"}),(0,j.jsxs)("div",{className:D,children:[(0,j.jsx)(v.Z,{type:"button",variant:"contained",size:"large",onClick:n,children:"Cancel"}),(0,j.jsx)(v.Z,{type:"submit",variant:"contained",endIcon:C?(0,j.jsx)(x.p2,{height:"15",width:"15",color:"white",ariaLabel:"loading"}):(0,j.jsx)(z.Z,{}),size:"large",children:"Edit"})]})]})},B=document.querySelector("#modal-root");var Q=function(e){var n=e.onClick,t=e.showModal;(0,r.useEffect)((function(){return document.addEventListener("keydown",a),function(){document.removeEventListener("keydown",a)}}));var a=function(e){console.log(e.code),"Escape"===e.code&&n()};return(0,E.createPortal)((0,j.jsx)("div",{className:M,onClick:function(e){e.currentTarget===e.target&&n()},children:(0,j.jsx)("div",{className:P,children:(0,j.jsx)(V,{onClick:n,showModal:t})})}),B)},$=function(){var e=(0,r.useState)(!1),n=(0,a.Z)(e,2),t=n[0],o=n[1],i=function(e){o(e.currentTarget.id)},s=(0,l.I0)();(0,r.useEffect)((function(){s(d.fetchContacts())}),[s]);var c=(0,l.v9)(m),u=(0,l.v9)(h),_=(0,l.v9)(f);return 0===u.length&&0!==c.length?(0,j.jsx)("p",{children:"Don't find any contact, try something else"}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("ul",{className:I,children:u.map((function(e){var n=e.name,t=e.number,a=e.id;return(0,j.jsx)(F,{id:a,name:n,number:t,loader:(null===_||void 0===_?void 0:_.id)===a,handleShowModal:i},a)}))}),t&&(0,j.jsx)(Q,{onClick:function(e){o(!1)},showModal:t})]})},G=t(7383),U=function(){var e=(0,l.v9)(_);return(0,j.jsxs)("div",{className:G.Z.container,children:[(0,j.jsx)(C,{}),(0,j.jsxs)("div",{children:[(0,j.jsx)(A,{}),e?(0,j.jsxs)("h2",{children:[e,", please try latter"]}):(0,j.jsx)($,{})]})]})}},7383:function(e,n){n.Z={title:"LoginView_title__n-sEC",form:"LoginView_form__XLqLJ",label:"LoginView_label__a9+XD",input:"LoginView_input__SMhve",container:"LoginView_container__n8dcz"}}}]);
//# sourceMappingURL=contacts.34f627fa.chunk.js.map