"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[421],{2654:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var a=n(885),r=n(2791),s=n(9434),i=n(5036),c=function(e){return e.contacts.filter},o=function(e){return e.contacts.items},l=function(e){return o(e).filter((function(t){return t.name.toLowerCase().includes(c(e).toLowerCase())}))},d=function(e){return e.contacts.error},u=function(e){return e.contacts.loading},m=n(4443),h="Phonebook_form__J23fu",_="Phonebook_label__Qzztg",b="Phonebook_input__8yiEQ",p="Phonebook_title__ipARL",f=n(6140),x=n(6373),v=n(6151),j=n(1686),g=n(184);var C=function(){var e=(0,r.useState)(""),t=(0,a.Z)(e,2),n=t[0],c=t[1],l=(0,r.useState)(""),d=(0,a.Z)(l,2),m=d[0],C=d[1],N=(0,s.v9)(o),w=(0,s.v9)(u),y=(0,s.I0)(),A=function(e){switch(e.currentTarget.id){case"nameAdd":c(e.currentTarget.value);break;case"numberAdd":C(e.currentTarget.value);break;default:console.log("wrong name")}},Z=function(e,t){N.map((function(e){return e.name.toLowerCase()})).includes(e.toLowerCase())?f.ZP.error("".concat(e," is already in contacts"),{duration:3e3,position:"top-center"}):(y(i.addContact({name:e,number:t})),c(""),C(""))};return(0,g.jsxs)("form",{className:h,onSubmit:function(e){e.preventDefault(),Z(n,m)},children:[(0,g.jsx)("h2",{className:p,children:"Add contact"}),(0,g.jsx)("label",{className:_,htmlFor:"nameAdd",children:"Name"}),(0,g.jsx)("input",{type:"text",onChange:A,name:"name",value:n,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,className:b,id:"nameAdd"}),(0,g.jsx)("label",{className:_,htmlFor:"numberAdd",children:"Number"}),(0,g.jsx)("input",{type:"tel",onChange:A,name:"number",value:m,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,className:b,id:"numberAdd"}),(0,g.jsx)(v.Z,{type:"submit",variant:"contained",endIcon:n&&w?(0,g.jsx)(x.p2,{height:"15",width:"15",color:"white",ariaLabel:"loading"}):(0,g.jsx)(j.Z,{}),size:"large",children:"Add contact"})]})},N="Filter_label__vEd1E",w="Filter_input__N7T3z",y="Filter_title__pSkfx",A=function(){var e=(0,s.v9)(c),t=(0,s.I0)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h2",{className:y,children:"Contacts List"}),(0,g.jsxs)("label",{className:N,children:["Find Contacts by name",(0,g.jsx)("input",{type:"text",onChange:function(e){return t(m.setFilter(e.currentTarget.value))},name:"filter",value:e,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,className:w})]})]})},Z="ContactList_list__csErn",k=n(4164),F="PatchForm_form__V2ul1",z="PatchForm_label__MwJQE",P="PatchForm_input__JDiGI",I="PatchForm_title__yIMj6",L="PatchForm_buttonContainer__daJTf",S=n(1286);var T=function(e){var t=e.onClick,n=e.id,c=(0,s.v9)(o).find((function(e){return e.id===n})),l=(0,r.useState)(c.name),d=(0,a.Z)(l,2),m=d[0],h=d[1],_=(0,r.useState)(c.number),b=(0,a.Z)(_,2),p=b[0],f=b[1],j=(0,s.v9)(u),C=(0,s.I0)(),N=function(e){switch(e.currentTarget.id){case"namePatch":h(e.currentTarget.value);break;case"numberPatch":f(e.currentTarget.value);break;default:console.log("wrong name")}};return(0,g.jsxs)("form",{className:F,onSubmit:function(e){e.preventDefault(),C(i.patchContact({name:m,number:p,id:n})),t()},children:[(0,g.jsx)("h2",{className:I,children:"Edit contact"}),(0,g.jsx)("label",{className:z,htmlFor:"namePatch",children:"Name"}),(0,g.jsx)("input",{type:"text",onChange:N,name:"name",value:m,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,className:P,id:"namePatch"}),(0,g.jsx)("label",{className:z,htmlFor:"numberPatch",children:"Number"}),(0,g.jsx)("input",{type:"tel",onChange:N,name:"number",value:p,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,className:P,id:"numberPatch"}),(0,g.jsxs)("div",{className:L,children:[(0,g.jsx)(v.Z,{type:"button",variant:"contained",size:"large",onClick:t,children:"Cancel"}),(0,g.jsx)(v.Z,{type:"submit",variant:"contained",endIcon:j?(0,g.jsx)(x.p2,{height:"15",width:"15",color:"white",ariaLabel:"loading"}):(0,g.jsx)(S.Z,{}),size:"large",children:"Edit"})]})]})},E="Modal_Overlay__yoxbg",M="Modal_Modal__I1UYJ",J=document.querySelector("#modal-root");var q=function(e){var t=e.onClick,n=e.id;(0,r.useEffect)((function(){return document.addEventListener("keydown",a),function(){document.removeEventListener("keydown",a)}}));var a=function(e){console.log(e.code),"Escape"===e.code&&t()};return(0,k.createPortal)((0,g.jsx)("div",{className:E,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,g.jsx)("div",{className:M,children:(0,g.jsx)(T,{onClick:t,id:n})})}),J)},D={item:"ContactListItem_item__UAAix",name:"ContactListItem_name__cIBvF",button:"ContactListItem_button__SG6H2",contactContainer:"ContactListItem_contactContainer__0rcmw"},V=n(7247),B=n(9877),Q=function(e){var t=e.id,n=e.name,a=e.number,r=e.loader,c=e.handleShowModal,o=(0,s.I0)();return(0,g.jsxs)("li",{className:D.item,children:[(0,g.jsx)(B.Z,{size:"small",color:"primary","aria-label":"edit",className:D.fab,onClick:c,id:t,children:(0,g.jsx)(S.Z,{})}),(0,g.jsxs)("div",{className:D.contactContainer,children:[(0,g.jsx)("span",{className:D.name,children:n}),(0,g.jsx)("span",{className:D.number,children:a})]}),(0,g.jsx)(v.Z,{className:D.button,id:t,name:n,variant:"outlined",startIcon:r?(0,g.jsx)(x.p2,{height:"20",width:"20",color:"blue",ariaLabel:"loading"}):(0,g.jsx)(V.Z,{}),onClick:function(e){o(i.deleteContact({id:e.currentTarget.id,name:e.currentTarget.name}))},children:"Delete"})]})},G=function(){var e=(0,r.useState)(null),t=(0,a.Z)(e,2),n=t[0],c=t[1],d=(0,s.v9)(o),m=(0,s.v9)(l),h=(0,s.v9)(u),_=(0,s.I0)();(0,r.useEffect)((function(){_(i.fetchContacts())}),[_]);var b=function(e){c(e.currentTarget.id)};return 0===m.length&&0!==d.length?(0,g.jsx)("p",{children:"Don't find any contact, try something else"}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("ul",{className:Z,children:m.map((function(e){var t=e.name,n=e.number,a=e.id;return(0,g.jsx)(Q,{id:a,name:t,number:n,loader:(null===h||void 0===h?void 0:h.id)===a,handleShowModal:b},a)}))}),n&&(0,g.jsx)(q,{onClick:function(e){c(null)},id:n})]})},$=n(3886),U=function(){var e=(0,s.v9)(d);return(0,g.jsxs)("div",{className:$.Z.container,children:[(0,g.jsx)(C,{}),(0,g.jsxs)("div",{children:[(0,g.jsx)(A,{}),e?(0,g.jsxs)("h2",{children:[e,", please try latter"]}):(0,g.jsx)(G,{})]})]})}},3886:function(e,t){t.Z={title:"Views_title__AQG3M",form:"Views_form__SBIbD",label:"Views_label__1lpis",input:"Views_input__bzFs3",container:"Views_container__xtdM7"}}}]);
//# sourceMappingURL=contacts.37354d3c.chunk.js.map